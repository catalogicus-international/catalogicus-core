const a5_0x1e05=['runGroup:\x20','createApiAxiosInstance','runGroup','response','completeRunGroup','apply','axiosMultipleTries','error:\x20','agentName','note','__esModule','then','error','recordMetric','VERBOSE_LOGGING','apiAxiosInstance','dtePollTasks','createMetricRecorder','../../../utilities/metric-logger','throw','completeRunGroupWithError','axiosException','Completed\x20run\x20group\x20with\x20an\x20error','/nx-cloud/executions/tasks','value','Completing\x20run\x20group\x20with\x20an\x20error','next','post','tasks','../../../utilities/nx-imports','DistributedAgentApi','RUNNER_FAILURE_PERF_ENTRY','mapRespToPerfEntry','defineProperty'];(function(_0x7d0624,_0x1e0501){const _0x4c4ac8=function(_0x5c2499){while(--_0x5c2499){_0x7d0624['push'](_0x7d0624['shift']());}};_0x4c4ac8(++_0x1e0501);}(a5_0x1e05,0x84));const a5_0x4c4a=function(_0x7d0624,_0x1e0501){_0x7d0624=_0x7d0624-0x0;let _0x4c4ac8=a5_0x1e05[_0x7d0624];return _0x4c4ac8;};'use strict';var __awaiter=this&&this['__awaiter']||function(_0x462060,_0x2aa9d8,_0x598f12,_0x45c9f3){function _0xf9db1f(_0x4c1a0d){return _0x4c1a0d instanceof _0x598f12?_0x4c1a0d:new _0x598f12(function(_0x427a35){_0x427a35(_0x4c1a0d);});}return new(_0x598f12||(_0x598f12=Promise))(function(_0x50aa45,_0x406fa9){function _0x1075a5(_0x4db932){try{_0x53aff4(_0x45c9f3[a5_0x4c4a('0x1e')](_0x4db932));}catch(_0x207cfe){_0x406fa9(_0x207cfe);}}function _0x1113aa(_0x5e284d){try{_0x53aff4(_0x45c9f3[a5_0x4c4a('0x17')](_0x5e284d));}catch(_0x70c9a7){_0x406fa9(_0x70c9a7);}}function _0x53aff4(_0x3647e7){_0x3647e7['done']?_0x50aa45(_0x3647e7[a5_0x4c4a('0x1c')]):_0xf9db1f(_0x3647e7[a5_0x4c4a('0x1c')])[a5_0x4c4a('0xf')](_0x1075a5,_0x1113aa);}_0x53aff4((_0x45c9f3=_0x45c9f3[a5_0x4c4a('0x9')](_0x462060,_0x2aa9d8||[]))[a5_0x4c4a('0x1e')]());});};Object[a5_0x4c4a('0x3')](exports,a5_0x4c4a('0xe'),{'value':!![]});exports['DistributedAgentApi']=void 0x0;const axios_1=require('../../../utilities/axios');const environment_1=require('../../../utilities/environment');const metric_logger_1=require(a5_0x4c4a('0x16'));const {output}=require(a5_0x4c4a('0x21'));class DistributedAgentApi{constructor(_0x487178,_0x44973d,_0x2aca11){this['runGroup']=_0x44973d;this['agentName']=_0x2aca11;this['apiAxiosInstance']=(0x0,axios_1[a5_0x4c4a('0x5')])(_0x487178);}[a5_0x4c4a('0x20')](_0x2b0556,_0x1826ac,_0x130426,_0x1f227d){var _0x5c59f8;return __awaiter(this,void 0x0,void 0x0,function*(){const _0x1789a5=(0x0,metric_logger_1[a5_0x4c4a('0x15')])(a5_0x4c4a('0x14'));try{const _0xb6ec7=yield(0x0,axios_1[a5_0x4c4a('0xa')])(()=>this['apiAxiosInstance'][a5_0x4c4a('0x1f')](a5_0x4c4a('0x1b'),{'runGroup':this[a5_0x4c4a('0x6')],'agentName':this[a5_0x4c4a('0xc')],'executionId':_0x2b0556,'statusCode':_0x1826ac,'completedTasks':_0x130426,'targets':_0x1f227d}));_0x1789a5[a5_0x4c4a('0x11')]((0x0,metric_logger_1['mapRespToPerfEntry'])(_0xb6ec7));return _0xb6ec7['data'];}catch(_0x1eafb9){_0x1789a5[a5_0x4c4a('0x11')](((_0x5c59f8=_0x1eafb9===null||_0x1eafb9===void 0x0?void 0x0:_0x1eafb9[a5_0x4c4a('0x19')])===null||_0x5c59f8===void 0x0?void 0x0:_0x5c59f8['response'])?(0x0,metric_logger_1['mapRespToPerfEntry'])(_0x1eafb9[a5_0x4c4a('0x19')]['response']):metric_logger_1[a5_0x4c4a('0x1')]);throw _0x1eafb9;}});}[a5_0x4c4a('0x18')](_0x31ffc8){var _0xb1ce6;return __awaiter(this,void 0x0,void 0x0,function*(){if(environment_1[a5_0x4c4a('0x12')]){output[a5_0x4c4a('0xd')]({'title':a5_0x4c4a('0x1d'),'bodyLines':[a5_0x4c4a('0x4')+this[a5_0x4c4a('0x6')],a5_0x4c4a('0xb')+_0x31ffc8]});}const _0x452460=(0x0,metric_logger_1[a5_0x4c4a('0x15')])(a5_0x4c4a('0x8'));try{const _0x514d43=yield(0x0,axios_1[a5_0x4c4a('0xa')])(()=>this[a5_0x4c4a('0x13')][a5_0x4c4a('0x1f')]('/nx-cloud/executions/complete-run-group',{'runGroup':this['runGroup'],'agentName':this[a5_0x4c4a('0xc')],'criticalErrorMessage':_0x31ffc8}));if(environment_1[a5_0x4c4a('0x12')]){output[a5_0x4c4a('0xd')]({'title':a5_0x4c4a('0x1a')});}_0x452460[a5_0x4c4a('0x11')]((0x0,metric_logger_1['mapRespToPerfEntry'])(_0x514d43));}catch(_0x3bc2fe){_0x452460[a5_0x4c4a('0x11')](((_0xb1ce6=_0x3bc2fe===null||_0x3bc2fe===void 0x0?void 0x0:_0x3bc2fe[a5_0x4c4a('0x19')])===null||_0xb1ce6===void 0x0?void 0x0:_0xb1ce6[a5_0x4c4a('0x7')])?(0x0,metric_logger_1[a5_0x4c4a('0x2')])(_0x3bc2fe[a5_0x4c4a('0x19')][a5_0x4c4a('0x7')]):metric_logger_1[a5_0x4c4a('0x1')]);console[a5_0x4c4a('0x10')](_0x3bc2fe);}});}}exports[a5_0x4c4a('0x0')]=DistributedAgentApi;