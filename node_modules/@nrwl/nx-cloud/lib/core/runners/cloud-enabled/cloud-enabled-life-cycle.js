const a0_0x318c=['outputObfuscator','task','nodes','status','cache-miss','remote-cache-hit','npm:','endTime','CloudEnabledLifeCycle','collectTerminalOutput','tasks','runContext','find','cacheStatus','project','local-cache','local-cache-kept-existing','filter','__esModule','cacheableOperations','runtime','../../terminal-output/read-task-terminal-output','forEach','terminalOutput','statuses','startsWith','target','endTasks','keys','toISOString','startTime','serializeOverrides','cleanUpHashDetails','code','defineProperty','hash','getTerminalOutput','cacheDirectory','obfuscate','scheduledTasks','readTaskTerminalOutput','remote-cache','updateStartedTask','Cannot\x20find\x20task\x20','push','taskId'];(function(_0x2ae5de,_0x318c69){const _0x30dadb=function(_0xa1c3e8){while(--_0xa1c3e8){_0x2ae5de['push'](_0x2ae5de['shift']());}};_0x30dadb(++_0x318c69);}(a0_0x318c,0x118));const a0_0x30da=function(_0x2ae5de,_0x318c69){_0x2ae5de=_0x2ae5de-0x0;let _0x30dadb=a0_0x318c[_0x2ae5de];return _0x30dadb;};'use strict';Object[a0_0x30da('0x1e')](exports,a0_0x30da('0xe'),{'value':!![]});exports['CloudEnabledLifeCycle']=void 0x0;const serializer_overrides_1=require('../../../utilities/serializer-overrides');const read_task_terminal_output_1=require(a0_0x30da('0x11'));class CloudEnabledLifeCycle{constructor(_0x188edd,_0x3154ee,_0x234533,_0x6eed3d,_0x209189,_0x2c3ed9){this[a0_0x30da('0x7')]=_0x188edd;this[a0_0x30da('0x21')]=_0x3154ee;this[a0_0x30da('0x5')]=_0x234533;this[a0_0x30da('0xf')]=_0x6eed3d;this['outputObfuscator']=_0x209189;this[a0_0x30da('0x6')]=_0x2c3ed9;}['scheduleTask'](_0x3893e1){this[a0_0x30da('0x7')][a0_0x30da('0x23')][a0_0x30da('0x28')](_0x3893e1);}['startTask'](_0x2e9da6){this['tasks']['push']({'taskId':_0x2e9da6['id'],'startTime':new Date()['toISOString'](),'target':_0x2e9da6['target']['target'],'projectName':_0x2e9da6[a0_0x30da('0x16')][a0_0x30da('0xa')],'hash':_0x2e9da6[a0_0x30da('0x1f')],'hashDetails':this[a0_0x30da('0x1c')](_0x2e9da6['hashDetails']),'params':(0x0,serializer_overrides_1[a0_0x30da('0x1b')])(_0x2e9da6)});}[a0_0x30da('0x17')](_0x5c5e1c){for(let _0xb30418 of _0x5c5e1c){let _0x3a61f0;const _0x46cf21=_0xb30418[a0_0x30da('0x2d')]===a0_0x30da('0x25');const _0x16829c=_0xb30418[a0_0x30da('0x2d')]==='cache';const _0x24b7b8=_0xb30418['status']===a0_0x30da('0xb')||_0xb30418['status']===a0_0x30da('0xc')||_0x16829c;if(this[a0_0x30da('0x7')]['statuses'][_0xb30418[a0_0x30da('0x2b')]['hash']]){_0x3a61f0=this[a0_0x30da('0x7')][a0_0x30da('0x14')][_0xb30418[a0_0x30da('0x2b')][a0_0x30da('0x1f')]];}else if(_0x46cf21){_0x3a61f0=a0_0x30da('0x1');}else if(_0x24b7b8){_0x3a61f0='local-cache-hit';}else{_0x3a61f0=a0_0x30da('0x0');}this[a0_0x30da('0x26')](_0xb30418,_0x3a61f0);}}['endCommand'](){}[a0_0x30da('0x26')](_0xea6794,_0x3e0272){const _0x3c2de4=this[a0_0x30da('0x6')][a0_0x30da('0x8')](_0x3bacd1=>_0x3bacd1[a0_0x30da('0x29')]===_0xea6794[a0_0x30da('0x2b')]['id']);if(!_0x3c2de4){throw new Error(a0_0x30da('0x27')+_0xea6794[a0_0x30da('0x2b')]['id']);}if((_0xea6794===null||_0xea6794===void 0x0?void 0x0:_0xea6794['startTime'])&&(_0xea6794===null||_0xea6794===void 0x0?void 0x0:_0xea6794['endTime'])){_0x3c2de4[a0_0x30da('0x1a')]=new Date(_0xea6794['startTime'])['toISOString']();_0x3c2de4[a0_0x30da('0x3')]=new Date(_0xea6794[a0_0x30da('0x3')])['toISOString']();}else{_0x3c2de4[a0_0x30da('0x3')]=new Date()[a0_0x30da('0x19')]();}_0x3c2de4[a0_0x30da('0x2d')]=_0xea6794[a0_0x30da('0x1d')];_0x3c2de4['params']=this[a0_0x30da('0x2a')][a0_0x30da('0x22')](_0x3c2de4['params']);_0x3c2de4['cacheStatus']=_0x3e0272;if(this['collectTerminalOutput']){_0x3c2de4[a0_0x30da('0x13')]=this[a0_0x30da('0x20')](_0xea6794[a0_0x30da('0x2b')][a0_0x30da('0x1f')],_0x3c2de4[a0_0x30da('0x9')],_0xea6794[a0_0x30da('0x1d')]);}}[a0_0x30da('0x20')](_0x1eb788,_0x109833,_0x244c4f){return(0x0,read_task_terminal_output_1[a0_0x30da('0x24')])(this[a0_0x30da('0x21')],this[a0_0x30da('0x2a')],_0x1eb788,_0x109833,_0x244c4f);}[a0_0x30da('0x1c')](_0x52b582){const _0x33be26={};Object[a0_0x30da('0x18')](_0x52b582[a0_0x30da('0x2c')])[a0_0x30da('0xd')](_0x445053=>!_0x445053[a0_0x30da('0x15')](a0_0x30da('0x2')))[a0_0x30da('0x12')](_0x417e95=>{_0x33be26[_0x417e95]=_0x52b582['nodes'][_0x417e95];});return{'nodes':_0x33be26,'runtime':_0x52b582[a0_0x30da('0x10')],'implicitDeps':_0x52b582['implicitDeps']};}}exports[a0_0x30da('0x4')]=CloudEnabledLifeCycle;